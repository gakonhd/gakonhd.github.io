!function(a){var e=function(a){return a.toISOString().replace(/-|:|\.\d+/g,"")},t=function(a){return a.end?e(a.end):e(new Date(a.start.getTime()+6e4*a.duration))},o={google:function(a){var o=e(a.start),n=t(a);return'<a class="icon-google" target="_blank" href="'+encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(a.title||""),"&dates="+(o||""),"/"+(n||""),"&details="+(a.description||""),"&location="+(a.address||""),"&sprop=&sprop=name:"].join(""))+'">Google Calendar</a>'},yahoo:function(a){var t=a.end?(a.end.getTime()-a.start.getTime())/6e4:a.duration,o=(t<600?"0"+Math.floor(t/60):Math.floor(t/60)+"")+(t%60<10?"0"+t%60:t%60+""),n=e(new Date(a.start-6e4*a.start.getTimezoneOffset()))||"";return'<a class="icon-yahoo" target="_blank" href="'+encodeURI(["http://calendar.yahoo.com/?v=60&view=d&type=20","&title="+(a.title||""),"&st="+n,"&dur="+(o||""),"&desc="+(a.description||""),"&in_loc="+(a.address||"")].join(""))+'">Yahoo! Calendar</a>'},ics:function(a,o,n){var r=e(a.start),c=t(a);return'<a class="'+o+'" target="_blank" href="'+encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(r||""),"DTEND:"+(c||""),"SUMMARY:"+(a.title||""),"DESCRIPTION:"+(a.description||""),"LOCATION:"+(a.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"))+'">'+n+" Calendar</a>"},ical:function(a){return this.ics(a,"icon-ical","iCal")},outlook:function(a){return this.ics(a,"icon-outlook","Outlook")}},n=function(){var a=document.createElement("style");return a.id="ouical-css",a.innerHTML="#add-to-calendar-label{margin-bottom:10px;cursor:pointer}.add-to-calendar a{margin:3px}.add-to-calendar-checkbox~a{display:none}.add-to-calendar-checkbox:checked~a{display:block;}input[type=checkbox].add-to-calendar-checkbox{display:none}",a},r=function(a,e,t){var o=document.createElement("div");return o.innerHTML='<label id="add-to-calendar-label" for="checkbox-for-'+t+'" class="btn btn-fill btn-small"><i class="fa fa-calendar"></i>&nbsp;&nbsp; Add to Calendar</label>',o.innerHTML+='<input name="add-to-calendar-checkbox" class="add-to-calendar-checkbox" id="checkbox-for-'+t+'" type="checkbox">',Object.keys(a).forEach(function(e){o.innerHTML+=a[e]}),o.className="add-to-calendar",void 0!==e&&(o.className+=" "+e),document.getElementById("ouical-css")||document.getElementsByTagName("head")[0].appendChild(n()),o.id=t,o};a.createCalendar=function(a){var e;if(function(a){return void 0!==a.data&&void 0!==a.data.start&&(void 0!==a.data.end||void 0!==a.data.duration)}(a))return r((e=a.data,{google:o.google(e),yahoo:o.yahoo(e),ical:o.ical(e),outlook:o.outlook(e)}),function(a){if(a.options&&a.options.class)return a.options.class}(a),function(a){return a.options&&a.options.id?a.options.id:Math.floor(1e6*Math.random())}(a));console.log("Event details missing.")}}(this);